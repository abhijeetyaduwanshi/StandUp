CREATE TABLE GUEST (ID BIGINT AUTO_INCREMENT NOT NULL, EMAIL VARCHAR(255), FIRSTNAME VARCHAR(255), LASTNAME VARCHAR(255), LASTUPDATED DATETIME, PRIMARY KEY (ID))
CREATE TABLE ISSUE (ID BIGINT AUTO_INCREMENT NOT NULL, ISSUEDATE DATE, ISSUETYPE VARCHAR(255), LASTUPDATED DATETIME, NAME VARCHAR(255), PROJECT_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE PROJECT (ID BIGINT AUTO_INCREMENT NOT NULL, CLIENTNAME VARCHAR(255), LASTUPDATED DATETIME, NAME VARCHAR(255), PROJECTTYPE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE Retro (ID BIGINT AUTO_INCREMENT NOT NULL, LASTUPDATED DATETIME, NAME VARCHAR(255), RETROISSUE VARCHAR(255), RETROISSUETYPE VARCHAR(255), PROJECT_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE USER (ID BIGINT AUTO_INCREMENT NOT NULL, COMPANYNAME VARCHAR(255), EMAIL VARCHAR(255), FIRSTNAME VARCHAR(255), LASTNAME VARCHAR(255), LASTUPDATED DATETIME, POSITION VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE guest_projects (guest_id BIGINT NOT NULL, project_id BIGINT NOT NULL, PRIMARY KEY (guest_id, project_id))
CREATE TABLE user_issues (issue_id BIGINT NOT NULL, user_id BIGINT NOT NULL, PRIMARY KEY (issue_id, user_id))
CREATE TABLE user_projects (project_id BIGINT NOT NULL, user_id BIGINT NOT NULL, PRIMARY KEY (project_id, user_id))
CREATE TABLE user_retros (retro_id BIGINT NOT NULL, user_id BIGINT NOT NULL, PRIMARY KEY (retro_id, user_id))
ALTER TABLE ISSUE ADD CONSTRAINT FK_ISSUE_PROJECT_ID FOREIGN KEY (PROJECT_ID) REFERENCES PROJECT (ID)
ALTER TABLE Retro ADD CONSTRAINT FK_Retro_PROJECT_ID FOREIGN KEY (PROJECT_ID) REFERENCES PROJECT (ID)
ALTER TABLE guest_projects ADD CONSTRAINT FK_guest_projects_guest_id FOREIGN KEY (guest_id) REFERENCES GUEST (ID)
ALTER TABLE guest_projects ADD CONSTRAINT FK_guest_projects_project_id FOREIGN KEY (project_id) REFERENCES PROJECT (ID)
ALTER TABLE user_issues ADD CONSTRAINT FK_user_issues_user_id FOREIGN KEY (user_id) REFERENCES USER (ID)
ALTER TABLE user_issues ADD CONSTRAINT FK_user_issues_issue_id FOREIGN KEY (issue_id) REFERENCES ISSUE (ID)
ALTER TABLE user_projects ADD CONSTRAINT FK_user_projects_user_id FOREIGN KEY (user_id) REFERENCES USER (ID)
ALTER TABLE user_projects ADD CONSTRAINT FK_user_projects_project_id FOREIGN KEY (project_id) REFERENCES PROJECT (ID)
ALTER TABLE user_retros ADD CONSTRAINT FK_user_retros_retro_id FOREIGN KEY (retro_id) REFERENCES Retro (ID)
ALTER TABLE user_retros ADD CONSTRAINT FK_user_retros_user_id FOREIGN KEY (user_id) REFERENCES USER (ID)
